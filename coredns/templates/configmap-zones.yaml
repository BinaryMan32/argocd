apiVersion: v1
kind: ConfigMap
metadata:
  name: coredns-zones
data:
  db.{{ .Values.domainName }}: |
    $TTL  30M
    @   IN  SOA  ns1.{{ .Values.domainName }}. {{ .Values.domainName }}. (
                    {{ .Values.serial }}  ; Serial
                    4H          ; Refresh
                    1H          ; Retry
                    7D          ; Expire
                    4H )        ; Negative Cache TTL
        IN  NS  ns1

    ns1                       IN  A   {{ .Values.service.loadBalancerIP }}
    argocd                    IN  A   192.168.6.200
